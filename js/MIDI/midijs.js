//https://github.com/mudcube/MIDI.js
if("undefined"===typeof MIDI)var MIDI={};
(function(){var a={},e=function(b){var c=new Audio,d=b.split(";")[0];c.id="audio";c.setAttribute("preload","auto");c.setAttribute("audiobuffer",!0);c.addEventListener("canplaythrough",function(){a[d]=!0},!1);c.src="data:"+b;document.body.appendChild(c)};MIDI.audioDetect=function(b){if("undefined"===typeof Audio)return b({});var c=new Audio;if("undefined"===typeof c.canPlayType)return b(a);var d=c.canPlayType('audio/ogg; codecs="vorbis"'),d="probably"===d||"maybe"===d,c=c.canPlayType("audio/mpeg"),
c="probably"===c||"maybe"===c;if(d||c){d&&e("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=");
c&&e("audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");var f=(new Date).getTime(),k=window.setInterval(function(){for(var d in a);var c=5E3<(new Date).getTime()-f;if(d||c)window.clearInterval(k),b(a)},1)}else b(a)}})();
"undefined"===typeof MIDI&&(MIDI={});"undefined"===typeof MIDI.Soundfont&&(MIDI.Soundfont={});
(function(){MIDI.loadPlugin=function(c){"function"===typeof c&&(c={callback:c});var d=c.instruments||c.instrument||"acoustic_grand_piano";"object"!==typeof d&&(d=[d]);for(var f=0;f<d.length;f++){var b=d[f];"number"===typeof b&&(d[f]=MIDI.GeneralMIDI.byId[b])}MIDI.soundfontUrl=c.soundfontUrl||MIDI.soundfontUrl||"./soundfont/";MIDI.audioDetect(function(f){var b="",b=e[c.api]?c.api:e[window.location.hash.substr(1)]?window.location.hash.substr(1):window.webkitAudioContext?"webaudio":window.Audio?"audiotag":
"flash";if(a[b])a[b](f["audio/ogg"]?"ogg":"mp3",d,c)})};var a={webmidi:function(c,d,a){MIDI.loader&&MIDI.loader.message("Web MIDI API...");MIDI.WebMIDI.connect(a)},flash:function(a,d,b){MIDI.loader&&MIDI.loader.message("Flash API...");DOMLoader.script.add({src:b.soundManagerUrl||"./inc/SoundManager2/script/soundmanager2.js",verify:"SoundManager",callback:function(){MIDI.Flash.connect(d,b)}})},audiotag:function(a,d,f){MIDI.loader&&MIDI.loader.message("HTML5 Audio API...");var e=b({items:d,getNext:function(d){DOMLoader.script.add({src:MIDI.soundfontUrl+
d+"-"+a+".js",verify:"MIDI.Soundfont."+d,callback:function(){MIDI.loader&&MIDI.loader.update(null,"Downloading...",100);e.getNext()}})},onComplete:function(){MIDI.AudioTag.connect(f)}})},webaudio:function(a,d,f){MIDI.loader&&MIDI.loader.message("Web Audio API...");var e=b({items:d,getNext:function(d){DOMLoader.script.add({src:MIDI.soundfontUrl+d+"-"+a+".js",verify:"MIDI.Soundfont."+d,callback:function(){MIDI.loader&&MIDI.loader.update(null,"Downloading...",100);e.getNext()}})},onComplete:function(){MIDI.WebAudio.connect(f)}})}},
e={webmidi:!0,webaudio:!0,audiotag:!0,flash:!0},b=function(a){var d={queue:[]},b;for(b in a.items)d.queue.push(a.items[b]);d.getNext=function(){if(!d.queue.length)return a.onComplete();a.getNext(d.queue.shift())};setTimeout(d.getNext,1);return d}})();"undefined"===typeof MIDI&&(MIDI={});"undefined"===typeof MIDI.Player&&(MIDI.Player={});
(function(){var a=MIDI.Player;a.callback=void 0;a.currentTime=0;a.endTime=0;a.restart=0;a.playing=!1;a.timeWarp=1;a.start=a.resume=function(){-1>a.currentTime&&(a.currentTime=-1);q(a.currentTime)};a.pause=function(){var d=a.restart;p();a.restart=d};a.stop=function(){p();a.restart=0;a.currentTime=0};a.addListener=function(d){f=d};a.removeListener=function(){f=void 0};a.clearAnimation=function(){a.interval&&window.clearInterval(a.interval)};a.setAnimation=function(l){var b="function"===typeof l?l:l.callback;
l=l.interval||30;var c=0,f=0,e=0;a.clearAnimation();a.interval=window.setInterval(function(){if(0!==a.endTime){a.playing?(c=e===a.currentTime?f-(new Date).getTime():0,c=0===a.currentTime?0:a.currentTime-c,e!==a.currentTime&&(f=(new Date).getTime(),e=a.currentTime)):c=a.currentTime;var l=c/1E3,g=l/60,l=60*g+(l-60*g),g=a.endTime/1E3;-1>g-l||b({now:l,end:g,events:d})}},l)};a.loadMidiFile=function(){a.replayer=new Replayer(MidiFile(a.currentData),a.timeWarp);a.data=a.replayer.getData();a.endTime=g()};
a.loadFile=function(d,b){a.stop();if(-1!==d.indexOf("base64,")){var c=window.atob(d.split(",")[1]);a.currentData=c;a.loadMidiFile();b&&b(c)}else c=new XMLHttpRequest,c.open("GET",d),c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(){if(4===this.readyState&&200===this.status){for(var d=this.responseText||"",l=[],c=d.length,f=String.fromCharCode,e=0;e<c;e++)l[e]=f(d.charCodeAt(e)&255);d=l.join("");a.currentData=d;a.loadMidiFile();b&&b(d)}},c.send()};var e=[],b,
c=0,d={},f=void 0,k=function(l,c,e,g,p,k){return window.setTimeout(function(){var g={channel:l,note:c,now:e,end:a.endTime,message:p,velocity:k};128===p?delete d[c]:d[c]=g;f&&f(g);a.currentTime=e;a.currentTime===b&&b<a.endTime&&q(b,!0)},e-g)},h=function(){if("WebAudioAPI"===MIDI.lang)return MIDI.Player.ctx;a.ctx||(a.ctx={currentTime:0});return a.ctx},g=function(){for(var d=a.data,c=d.length,b=0.5,f=0;f<c;f++)b+=d[f][1];return b},q=function(d,f){if(a.replayer){f||("undefined"===typeof d&&(d=a.restart),
a.playing&&p(),a.playing=!0,a.data=a.replayer.getData(),a.endTime=g());var m,n=0,q=0,w=a.data,x=h(),y=w.length;b=0.5;c=x.currentTime;for(var v=0;v<y&&100>q;v++)if(b+=w[v][1],b<d)n=b;else{d=b-n;var r=w[v][0].event;if("channel"===r.type){var t=r.channel;switch(r.subtype){case "noteOn":if(MIDI.channels[t].mute)break;m=r.noteNumber-(a.MIDIOffset||0);e.push({event:r,source:MIDI.noteOn(t,r.noteNumber,r.velocity,d/1E3+x.currentTime),interval:k(t,m,b,n,144,r.velocity)});q++;break;case "noteOff":if(MIDI.channels[t].mute)break;
m=r.noteNumber-(a.MIDIOffset||0);e.push({event:r,source:MIDI.noteOff(t,r.noteNumber,d/1E3+x.currentTime),interval:k(t,m,b,n,128)})}}}}},p=function(){var b=h();a.playing=!1;for(a.restart+=1E3*(b.currentTime-c);e.length;)b=e.pop(),window.clearInterval(b.interval),b.source&&("number"===typeof b.source?window.clearTimeout(b.source):(b=b.source,b.disconnect(0),b.noteOff(0)));for(var g in d)b=d[g],144===d[g].message&&f&&f({channel:b.channel,note:b.note,now:b.now,end:b.end,message:128,velocity:b.velocity});
d={}}})();"undefined"===typeof MIDI&&(MIDI={});
(function(){var a=function(a){MIDI.api=a.api;MIDI.setVolume=a.setVolume;MIDI.programChange=a.programChange;MIDI.noteOn=a.noteOn;MIDI.noteOff=a.noteOff;MIDI.chordOn=a.chordOn;MIDI.chordOff=a.chordOff;MIDI.stopAllNotes=a.stopAllNotes;MIDI.getInput=a.getInput;MIDI.getOutputs=a.getOutputs};(function(){var e=null,b=null,c=MIDI.WebMIDI={api:"webmidi"};c.setVolume=function(d,a){b.send([176+d,7,a])};c.programChange=function(d,a){b.send([192+d,a])};c.noteOn=function(d,a,c,e){b.send([144+d,a,c],1E3*e)};c.noteOff=
function(d,a,c){b.send([128+d,a,0],1E3*c)};c.chordOn=function(d,a,c,e){for(var g=0;g<a.length;g++)b.send([144+d,a[g],c],1E3*e)};c.chordOff=function(d,a,c){for(var e=0;e<a.length;e++)b.send([128+d,a[e],0],1E3*c)};c.stopAllNotes=function(){for(var a=0;16>a;a++)b.send([176+a,123,0])};c.getInput=function(){return e.getInputs()};c.getOutputs=function(){return e.getOutputs()};c.connect=function(d){a(c);navigator.requestMIDIAccess(function(a){e=a;b=e.getOutput(0);d.callback&&d.callback()},function(a){d.api=
window.webkitAudioContext?"webaudio":window.Audio?"audiotag":"flash";MIDI.loadPlugin(d)})}})();(window.AudioContext||window.webkitAudioContext)&&function(){console.log("fdf");var e=window.AudioContext||window.webkitAudioContext,b=MIDI.WebAudio={api:"webaudio"},c,d={},f=127,k={},h=function(a,d,b,e,f){var m=MIDI.GeneralMIDI.byName[a],n=m.number,u=d[b];if(!MIDI.Soundfont[a][u])return f(a);var h=MIDI.Soundfont[a][u].split(",")[1],h=Base64Binary.decodeArrayBuffer(h);c.decodeAudioData(h,function(c){MIDI.onloadOne();
for(var h=u;3>h.length;)h+="&nbsp;";"undefined"!==typeof MIDI.loader&&MIDI.loader.update(null,m.instrument+"<br>Processing: "+(b/87*100>>0)+"%<br>"+h);c.id=u;e[b]=c;if(e.length===d.length){for(;e.length;)(c=e.pop())&&(k[n+""+MIDI.keyToNote[c.id]]=c);f(a)}})};b.setVolume=function(a,d){f=d};b.programChange=function(a,d){MIDI.channels[a].instrument=d};b.noteOn=function(a,b,e,l){if(MIDI.channels[a]){var s=MIDI.channels[a].instrument;if(k[s+""+b]){l<c.currentTime&&(l+=c.currentTime);var m=c.createBufferSource();
d[a+""+b]=m;m.buffer=k[s+""+b];m.connect(c.destination);a=c.createGainNode();e=e/127*(f/127)*2-1;a.connect(c.destination);a.gain.value=Math.max(-1,e);m.connect(a);m.noteOn(l||0);return m}}};b.noteOff=function(a,b,e){e=e||0;e<c.currentTime&&(e+=c.currentTime);if(a=d[a+""+b])return a.gain.linearRampToValueAtTime(1,e),a.gain.linearRampToValueAtTime(0,e+0.2),a.noteOff(e+0.3),a};b.chordOn=function(a,d,c,e){for(var f={},m,n=0,h=d.length;n<h;n++)f[m=d[n]]=b.noteOn(a,m,c,e);return f};b.chordOff=function(a,
d,c){for(var e={},f,m=0,n=d.length;m<n;m++)e[f=d[m]]=b.noteOff(a,f,c);return e};b.connect=function(d){a(b);MIDI.Player.ctx=c=new e;var f=[],k=MIDI.keyToNote,l;for(l in k)f.push(l);var k=[],s={};l=function(a){delete s[a];for(var b in s)break;b||d.callback()};for(var m in MIDI.Soundfont){s[m]=!0;for(var n=0;n<f.length;n++)h(m,f,n,k,l)}}}();window.Audio&&function(){for(var e=MIDI.AudioTag={api:"audiotag"},b={},c=127,d=-1,f=[],k=[],h={},g=0;12>g;g++)f[g]=new Audio;var q=function(a,b){if(MIDI.channels[a]){var e=
MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].id;if(b=h[b]){var n=(d+1)%f.length,g=f[n];k[n]=e+""+b.id;g.src=MIDI.Soundfont[e][b.id];g.volume=c/127;g.play();d=n}}},p=function(a,b){if(MIDI.channels[a]){var c=MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].id;if(b=h[b])for(var c=c+""+b.id,e=0;e<f.length;e++){var g=(e+d+1)%f.length,p=k[g];if(p&&p==c){f[g].pause();k[g]=null;break}}}};e.programChange=function(a,b){MIDI.channels[a].instrument=b};e.setVolume=function(a,b){c=b};e.noteOn=function(a,
d,c,e){var f=b[d];if(h[f]){if(e)return window.setTimeout(function(){q(a,f)},1E3*e);q(a,f)}};e.noteOff=function(a,d,c){var e=b[d];if(h[e]){if(c)return setTimeout(function(){p(a,e)},1E3*c);p(a,e)}};e.chordOn=function(a,d,c,e){for(c=0;c<d.length;c++){var f=b[d[c]];if(h[f]){if(e)return window.setTimeout(function(){q(a,f)},1E3*e);q(a,f)}}};e.chordOff=function(a,d,c){for(var e=0;e<d.length;e++){var f=b[d[e]];if(h[f]){if(c)return window.setTimeout(function(){p(a,f)},1E3*c);p(a,f)}}};e.stopAllNotes=function(){for(var a=
0,d=f.length;a<d;a++)f[a].pause()};e.connect=function(d){for(var c in MIDI.keyToNote)b[MIDI.keyToNote[c]]=c,h[c]={id:c};a(e);d.callback&&d.callback()}}();(function(){var e=MIDI.Flash={api:"flash"},b={},c={};e.programChange=function(a,b){MIDI.channels[a].instrument=b};e.setVolume=function(a,b){};e.noteOn=function(a,e,k,h){if(MIDI.channels[a]&&(e=MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].number+""+b[e],c[e])){if(h)return window.setTimeout(function(){c[e].play({volume:2*k})},1E3*h);c[e].play({volume:2*
k})}};e.noteOff=function(a,b,c){};e.chordOn=function(a,e,k,h){if(MIDI.channels[a]){a=MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].number;for(var g in e)h=a+""+b[e[g]],c[h]&&c[h].play({volume:2*k})}};e.chordOff=function(a,b,c){};e.stopAllNotes=function(){};e.connect=function(d,f){soundManager.flashVersion=9;soundManager.useHTML5Audio=!0;soundManager.url=f.soundManagerSwfUrl||"../inc/SoundManager2/swf/";soundManager.useHighPerformance=!0;soundManager.wmode="transparent";soundManager.flashPollingInterval=
1;soundManager.debugMode=!1;soundManager.onload=function(){for(var h=function(a,b,d){c[MIDI.GeneralMIDI.byName[a].number+""+b]=soundManager.createSound({id:b,url:MIDI.soundfontUrl+a+"-mp3/"+b+".mp3",multiShot:!0,autoLoad:!0,onload:d})},g=[],k=88*d.length,p=0;p<d.length;p++)for(var l=d[p],s=function(){g.push(this.sID);"undefined"!==typeof MIDI.loader&&MIDI.loader.update(null,"Processing: "+this.sID)},m=0;88>m;m++)h(l,b[m+21],s);a(e);var n=window.setInterval(function(){g.length<k||(window.clearInterval(n),
f.callback&&f.callback())},25)};soundManager.onerror=function(){};for(var k in MIDI.keyToNote)b[MIDI.keyToNote[k]]=k}})();MIDI.GeneralMIDI=function(a){var b=function(a){return a.replace(/[^a-z0-9 ]/gi,"").replace(/[ ]/g,"_").toLowerCase()},c={byName:{},byId:{},byCategory:{}},d;for(d in a)for(var f=a[d],k=0,h=f.length;k<h;k++){var g=f[k];if(g){var q=parseInt(g.substr(0,g.indexOf(" ")),10),g=g.replace(q+" ","");c.byId[--q]=c.byName[b(g)]=c.byCategory[b(d)]={id:b(g),instrument:g,number:q,category:d}}}return c}({Piano:"1 Acoustic Grand Piano;2 Bright Acoustic Piano;3 Electric Grand Piano;4 Honky-tonk Piano;5 Electric Piano 1;6 Electric Piano 2;7 Harpsichord;8 Clavinet".split(";"),
"Chromatic Percussion":"9 Celesta;10 Glockenspiel;11 Music Box;12 Vibraphone;13 Marimba;14 Xylophone;15 Tubular Bells;16 Dulcimer".split(";"),Organ:"17 Drawbar Organ;18 Percussive Organ;19 Rock Organ;20 Church Organ;21 Reed Organ;22 Accordion;23 Harmonica;24 Tango Accordion".split(";"),Guitar:"25 Acoustic Guitar (nylon);26 Acoustic Guitar (steel);27 Electric Guitar (jazz);28 Electric Guitar (clean);29 Electric Guitar (muted);30 Overdriven Guitar;31 Distortion Guitar;32 Guitar Harmonics".split(";"),
Bass:"33 Acoustic Bass;34 Electric Bass (finger);35 Electric Bass (pick);36 Fretless Bass;37 Slap Bass 1;38 Slap Bass 2;39 Synth Bass 1;40 Synth Bass 2".split(";"),Strings:"41 Violin;42 Viola;43 Cello;44 Contrabass;45 Tremolo Strings;46 Pizzicato Strings;47 Orchestral Harp;48 Timpani".split(";"),Ensemble:"49 String Ensemble 1;50 String Ensemble 2;51 Synth Strings 1;52 Synth Strings 2;53 Choir Aahs;54 Voice Oohs;55 Synth Choir;56 Orchestra Hit".split(";"),Brass:"57 Trumpet;58 Trombone;59 Tuba;60 Muted Trumpet;61 French Horn;62 Brass Section;63 Synth Brass 1;64 Synth Brass 2".split(";"),
Reed:"65 Soprano Sax;66 Alto Sax;67 Tenor Sax;68 Baritone Sax;69 Oboe;70 English Horn;71 Bassoon;72 Clarinet".split(";"),Pipe:"73 Piccolo;74 Flute;75 Recorder;76 Pan Flute;77 Blown Bottle;78 Shakuhachi;79 Whistle;80 Ocarina".split(";"),"Synth Lead":"81 Lead 1 (square);82 Lead 2 (sawtooth);83 Lead 3 (calliope);84 Lead 4 (chiff);85 Lead 5 (charang);86 Lead 6 (voice);87 Lead 7 (fifths);88 Lead 8 (bass + lead)".split(";"),"Synth Pad":"89 Pad 1 (new age);90 Pad 2 (warm);91 Pad 3 (polysynth);92 Pad 4 (choir);93 Pad 5 (bowed);94 Pad 6 (metallic);95 Pad 7 (halo);96 Pad 8 (sweep)".split(";"),
"Synth Effects":"97 FX 1 (rain);98 FX 2 (soundtrack);99 FX 3 (crystal);100 FX 4 (atmosphere);101 FX 5 (brightness);102 FX 6 (goblins);103 FX 7 (echoes);104 FX 8 (sci-fi)".split(";"),Ethnic:"105 Sitar;106 Banjo;107 Shamisen;108 Koto;109 Kalimba;110 Bagpipe;111 Fiddle;112 Shanai".split(";"),Percussive:"113 Tinkle Bell;114 Agogo;115 Steel Drums;116 Woodblock;117 Taiko Drum;118 Melodic Tom;119 Synth Drum".split(";"),"Sound effects":"120 Reverse Cymbal;121 Guitar Fret Noise;122 Breath Noise;123 Seashore;124 Bird Tweet;125 Telephone Ring;126 Helicopter;127 Applause;128 Gunshot".split(";")});
MIDI.channels=function(){for(var a={},b=0;16>b;b++)a[b]={instrument:0,mute:!1,mono:!1,omni:!1,solo:!1};return a}();MIDI.pianoKeyOffset=21;MIDI.keyToNote={};MIDI.noteToKey={};(function(){for(var a="C Db D Eb E F Gb G Ab A Bb B".split(" "),b=21;108>=b;b++){var c=a[b%12]+((b-12)/12>>0);MIDI.keyToNote[c]=b;MIDI.noteToKey[b]=c}})()})();